
## Roadmap

- [x] Use stable channel when `std::sync::LazyLock` will be stabilized (1.80 - 25 July, 2024).
- [ ] Currency support:
  - [ ] Exchange using external APIs. https://crates.io/crates/freecurrencyapi-rs
  - [x] Handle different currencies with their specific precision instead of Decimal.
- [ ] Add localization:
  - [ ] Add languages:
    - [x] en-US
    - [x] it-IT
  - [ ] Add currency input formatting (decimal separators).
  - [x] Add `SetLanguage` command.
- [ ] Logs with span_id/trace_id.
- [ ] Formatting of bot responses (bold, italic, etc.). https://docs.rs/teloxide/latest/teloxide/types/enum.ParseMode.html
- [ ] Improve error handling: distinguish errors resulting from DB queries.
  - [x] Delete from DB always returns OK even if the entry doesn't exist. Should return WARN with a dedicated message.
- [ ] Refactor code to make it more readable and maintainable.
- [x] Add tests:
  - [x] Unit tests:
    - [x] DB connection
    - [x] Command parsing
    - [x] Traveler name parsing
    - [x] Commands
  - [x] Integration tests
- [ ] Add assertion/events to check if `in.chat = out.chat` for relationships.
- [x] Handle `unknown_command` when command name is right but arguments are incomplete.
- [x] Add dedicated help messages for all commands.
- [ ] Improve user experience (e.g. add buttons).
- [x] Add timestamps to expenses and transfers.
- [x] Add `ShowStats` command.
- [ ] Add `EditExpense` command.
- [ ] Change `ListExpenses` command so that the filter matches the string representation of the expense.
